(this["webpackJsonp@palantirnet/federated-search-react"]=this["webpackJsonp@palantirnet/federated-search-react"]||[]).push([[0],{490:function(e,t){},523:function(e,t){},634:function(e,t,a){},635:function(e,t,a){"use strict";a.r(t);a(279);var s=a(0),n=a.n(s),r=a(27),i=a.n(r),l=a(90),c=a(3),o=a(4),u=a(5),d=a(7),m=a(6),h=(a(96),a(97),a(274)),p=a.n(h),f=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"renderValue",value:function(e,t){return[].concat(t[e]||null).filter((function(e){return null!==e})).join(", ")}},{key:"dateFormat",value:function(e){if("undefined"!==typeof e){return" \u2009\xb7\u2009 "+new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}).format(Date.parse(e))}}},{key:"getCanonicalLink",value:function(e){var t=this.props.hostname;if(Object.hasOwnProperty.call(e,"ss_canonical_url")&&e.ss_canonical_url)return e.ss_canonical_url;if(Object.hasOwnProperty.call(e,"sm_urls")&&Array.isArray(e.sm_urls)){var a=e.sm_urls.find((function(e){return p.a.parse(e).hostname===t}));return a||e.sm_urls[0]}return Object.hasOwnProperty.call(e,"ss_url")&&e.ss_url?e.ss_url:""}},{key:"intersperse",value:function(e,t){return 0===e.length?[]:e.slice(1).reduce((function(e,a,s){return e.concat([t,a])}),[e[0]])}},{key:"renderSitenameLinks",value:function(e,t,a){if(null!=e&&null!=t){for(var s=[],r=0;r<e.length;r++)s.push(n.a.createElement("a",{className:"fs-search-results__site-name",href:t[r],key:r},e[r])),e.length;return this.intersperse(s," | ")}return null!=a?a:null}},{key:"render",value:function(){var e=this,t=this.props,a=t.doc,s=t.highlight;return n.a.createElement("li",{className:"fs-search-results__item",onClick:function(){return e.props.onSelect(a)}},a.sm_federated_image&&n.a.createElement("div",{className:"fs-search-results__container--left"},n.a.createElement("img",{className:"fs-search-results__image",src:a.sm_federated_image,alt:""})),n.a.createElement("div",{className:"fs-search-results__container--right"},n.a.createElement("span",{className:"fs-search-results__department"},a.sm_department),n.a.createElement("h3",{className:"fs-search-results__title"},n.a.createElement("a",{href:this.getCanonicalLink(a),dangerouslySetInnerHTML:{__html:a.ss_federated_title}})),n.a.createElement("div",{className:"fs-search-results__meta"},n.a.createElement("cite",{className:"fs-search-results__citation"},this.renderSitenameLinks(a.sm_site_name,a.sm_urls,a.ss_site_name)),n.a.createElement("span",{className:"fs-search-results__type"},a.sm_federated_type),n.a.createElement("span",{className:"fs-search-results__date"},this.dateFormat(a.ds_federated_date))),n.a.createElement("blockquote",{cite:this.getCanonicalLink(a),className:"fs-search-results__summary",dangerouslySetInnerHTML:{__html:a.ss_summary}}),n.a.createElement("blockquote",{cite:this.getCanonicalLink(a),className:"fs-search-results__teaser",dangerouslySetInnerHTML:{__html:s.tm_rendered_item}})))}}]),a}(n.a.Component),g=a(14),_=a(42),v=a.n(_),b=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},n.a.createElement("path",{d:"M17.545 15.467l-3.779-3.779a6.15 6.15 0 0 0 .898-3.21c0-3.417-2.961-6.377-6.378-6.377A6.185 6.185 0 0 0 2.1 8.287c0 3.416 2.961 6.377 6.377 6.377a6.15 6.15 0 0 0 3.115-.844l3.799 3.801a.953.953 0 0 0 1.346 0l.943-.943c.371-.371.236-.84-.135-1.211zM4.004 8.287a4.282 4.282 0 0 1 4.282-4.283c2.366 0 4.474 2.107 4.474 4.474a4.284 4.284 0 0 1-4.283 4.283c-2.366-.001-4.473-2.109-4.473-4.474z"}))}}]),a}(n.a.Component),y=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).state={value:""},s.handleInputChange=s.handleInputChange.bind(Object(g.a)(s)),s.handleInputKeyDown=s.handleInputKeyDown.bind(Object(g.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(g.a)(s)),s}return Object(u.a)(a,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({value:e.value})}},{key:"handleInputChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleInputKeyDown",value:function(e){13===e.keyCode&&this.handleSubmit()}},{key:"handleSubmit",value:function(){this.props.onChange(this.props.field,this.state.value);var e=v.a.parse(window.location.search);e.search=this.state.value;var t=v.a.stringify(e);if(window.history.pushState){var a="".concat(window.location.protocol,"//").concat(window.location.host).concat(window.location.pathname,"?").concat(t);window.history.pushState({path:a},"",a)}else window.location.search=t}},{key:"render",value:function(){var e=this.props.label;return n.a.createElement(n.a.Fragment,null,n.a.createElement("label",{htmlFor:"search",className:"fs-search-form__label"},e),n.a.createElement("div",{className:"fs-search-form__input-wrapper"},n.a.createElement("input",{type:"search",name:"search",id:"search",className:"fs-search-form__input",autoFocus:!0,onChange:this.handleInputChange,onKeyDown:this.handleInputKeyDown,value:this.state.value||""}),n.a.createElement("button",{type:"submit",className:"fs-search-form__submit",onClick:this.handleSubmit},n.a.createElement("span",{className:"fs-element-invisible"},"Perform Search"),n.a.createElement(b,null))))}}]),a}(n.a.Component);y.defaultProps={label:"",onChange:function(){},value:""};var E=y,w=a(275),C=a.n(w),k=a(276),S=a.n(k),N=a(107),O=["sm_site_name","sm_federated_type","sm_department","sm_federated_terms"],j={getParsedQsAndParams:function(){var e=v.a.parse(window.location.search,{arrayFormat:"bracket"});return{parsed:e,params:Object.entries(e)}},getFieldQsInfo:function(e){var t=e.field,a=e.values,s=e.value,n=a.indexOf(s),r=j.getParsedQsAndParams(),i=r.parsed,l=r.params;return{foundIdx:n,parsed:i,isQsParamField:O.find((function(e){return e===t})),param:l.find((function(e){return e[0]===t}))}},addValueToQsParam:function(e){var t=e.field,a=e.value,s=e.param,n=e.parsed;return"object"!==typeof s[1]&&a!==s[1]&&(n[t]=a),"object"!==typeof s[1]||s[1].includes(a)||(s[1].push(a),n[t]=Object(N.a)(s[1])),n},addQsParam:function(e){var t=e.field,a=e.value,s=e.parsed,n=t.split("_")[0],r="m"===n.charAt(n.length-1);return r||(s[t]=a),r&&(s[t]=[a]),s},removeValueFromQsParam:function(e){var t=e.field,a=e.value,s=e.param,n=e.parsed;return"object"!==typeof s[1]&&a===s[1]&&delete n[t],"object"===typeof s[1]&&s[1].includes(a)&&(n[t]=s[1].filter((function(e){return e!==a}))),n},addNewUrlToBrowserHistory:function(e){var t=v.a.stringify(e,{arrayFormat:"bracket"});if(window.history.pushState){var a="".concat(window.location.protocol,"//").concat(window.location.host).concat(window.location.pathname,"?").concat(t);window.history.pushState({path:a},"",a)}else window.location.search=t},setFieldStateFromQs:function(e){var t=e.params,a=e.searchField,s=a,n=t.find((function(e){return e[0]===a.field}));if(n){if(s.collapse=!1,s.value=a.value||[],"object"===typeof n[1]||a.value.find((function(e){return e===n[1]}))||s.value.push(decodeURI(n[1])),"object"===typeof n[1]&&a.value!==n[1]){if("sm_federated_terms"===a.field){var r=[];n[1].forEach((function(e){r.push(e.split(">")[0])})),s.expandedHierarchies=r}var i=n[1].map((function(e){return decodeURI(e)}));s.value=Object(N.a)(i)}}else delete s.value,s.collapse=!0;return s}},F={highlightText:function(e,t){if(!t.toString().trim())return n.a.createElement("span",null,e);var a=e.split(new RegExp("(".concat(t,")"),"gi"));return n.a.createElement("span",null," ",a.map((function(e,a){return n.a.createElement("span",{key:a,style:e.toLowerCase()===t.toString().toLowerCase()?{fontWeight:"bold"}:{}},e)})))},filterFieldsWithQsState:O,qs:j},x=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).state={value:"",suggestions:[],reset:!1},s.getSuggestionValue=s.getSuggestionValue.bind(Object(g.a)(s)),s.handleInputKeyDown=s.handleInputKeyDown.bind(Object(g.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(g.a)(s)),s.loadSuggestions=s.loadSuggestions.bind(Object(g.a)(s)),s.onChange=s.onChange.bind(Object(g.a)(s)),s.onSuggestionSelected=s.onSuggestionSelected.bind(Object(g.a)(s)),s.onSuggestionsFetchRequested=s.onSuggestionsFetchRequested.bind(Object(g.a)(s)),s.onSuggestionsClearRequested=s.onSuggestionsClearRequested.bind(Object(g.a)(s)),s.renderSuggestion=s.renderSuggestion.bind(Object(g.a)(s)),s.renderSuggestionsContainer=s.renderSuggestionsContainer.bind(Object(g.a)(s)),s.shouldRenderSuggestions=s.shouldRenderSuggestions.bind(Object(g.a)(s)),s}return Object(u.a)(a,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=!1;null!==e.value&&(this.setState({reset:!0}),t=!1),null===e.value&&!0===this.state.reset&&(this.setState({value:"",suggestions:[],reset:!1}),t=!0),""===this.state.value&&null===this.props.value||!1!==t||this.setState({value:e.suggestQuery&&e.suggestQuery.value?e.suggestQuery.value:e.value,suggestions:e.suggestions?e.suggestions.docs:this.state.suggestions})}},{key:"onChange",value:function(e,t){var a=t.newValue;"type"===t.method&&(this.setState({value:a}),this.props.suggestQuery.value=a)}},{key:"onSuggestionsFetchRequested",value:function(e){var t=e.value;this.loadSuggestions(t)}},{key:"onSuggestionSelected",value:function(e,t){var a=t.suggestion,s=t.method;"result"!==this.props.autocomplete.mode||13!==e.keyCode&&"click"!==s||(e.preventDefault(),e.stopPropagation(),window.location.assign(a.sm_urls[0]))}},{key:"onSuggestionsClearRequested",value:function(){this.setState({suggestions:[]})}},{key:"getSuggestionValue",value:function(e){var t=this.props.autocomplete.mode;return"result"!==t&&("term"===t&&e.ss_federated_title)}},{key:"loadSuggestions",value:function(e){this.props.onSuggest(this.props.query,this.props.autocomplete,e)}},{key:"handleInputKeyDown",value:function(e){13!==e.keyCode||e.defaultPrevented||this.handleSubmit(),27===e.keyCode&&this.onSuggestionsClearRequested()}},{key:"handleSubmit",value:function(){this.props.onChange(this.props.field,this.state.value);var e=v.a.parse(window.location.search);e.search=this.state.value;var t=v.a.stringify(e);if(window.history.pushState){var a="".concat(window.location.protocol,"//").concat(window.location.host).concat(window.location.pathname,"?").concat(t);window.history.pushState({path:a},"",a)}else window.location.search=t}},{key:"shouldRenderSuggestions",value:function(e){var t=this.props.autocomplete.numChars||2;return e.trim().length>t}},{key:"renderSuggestionsContainer",value:function(e){var t=e.containerProps,a=e.children,s=e.query,r=this.props.autocomplete.mode,i=Object.hasOwnProperty.call(this.props.autocomplete,"result"),l=Object.hasOwnProperty.call(this.props.autocomplete,"term"),c=i&&this.props.autocomplete.result.titleText?this.props.autocomplete.result.titleText:"What are you looking for?",o=!i||!Object.hasOwnProperty.call(this.props.autocomplete.result,"showDirectionsText")||this.props.autocomplete.result.showDirectionsText,u=l&&this.props.autocomplete.term.titleText?this.props.autocomplete.term.titleText:"Suggested search terms",d=!l||!Object.hasOwnProperty.call(this.props.autocomplete.term,"showDirectionsText")||this.props.autocomplete.term.showDirectionsText,m="term"===r?u:c,h="term"===r?d:o,p=h?"react-autosuggest__suggestions-itemslist-wrapper react-autosuggest__suggestions-itemslist-wrapper--with-directions":"react-autosuggest__suggestions-itemslist-wrapper";return n.a.createElement("div",t,n.a.createElement("div",{className:"react-autosuggest__container-title"},m,n.a.createElement("button",{className:"react-autosuggest__container-close-button",onClick:this.onSuggestionsClearRequested},"x")),n.a.createElement("div",{className:p},a),h&&n.a.createElement("div",{className:"react-autosuggest__container-directions"},n.a.createElement("span",{className:"react-autosuggest__container-directions-item"},"Press ",n.a.createElement("code",null,"ENTER")," to search for ",n.a.createElement("strong",null,s)," or ",n.a.createElement("code",null,"ESC")," to close."),n.a.createElement("span",{className:"react-autosuggest__container-directions-item"},"Press \u2191 and \u2193 to highlight a suggestion then ",n.a.createElement("code",null,"ENTER")," to be redirected to that suggestion.")))}},{key:"renderSuggestion",value:function(e,t){var a=t.query,s=this.props.autocomplete.mode,r=C.a.decode(e.ss_federated_title),i=F.highlightText(r,a),l=this.state.suggestions.indexOf(e)+1,c=this.state.suggestions.length;return"term"===s?n.a.createElement("span",null,"highlightedTitle"):n.a.createElement("a",{className:"react-autosuggest__suggestion-link",href:e.sm_urls[0]},i,n.a.createElement("span",{className:"fs-element-invisible"}," (".concat(l," of ").concat(c,")")))}},{key:"render",value:function(){var e=this.props,t=e.label,s=e.suggestQuery,r=this.state,i=r.suggestions,l=r.value,c={type:"search",name:"search",id:"search",className:"react-autosuggest__input",onChange:this.onChange,onKeyDown:this.handleInputKeyDown,value:l||"",role:"combobox","aria-autocomplete":"both"};return n.a.createElement(n.a.Fragment,null,n.a.createElement("label",{htmlFor:"search",className:"fs-search-form__label"},t),n.a.createElement("div",{className:"fs-search-form__autocomplete-container"},n.a.createElement(S.a,{focusInputOnSuggestionClick:!1,getSuggestionValue:this.getSuggestionValue,inputProps:c,onSuggestionsClearRequested:this.onSuggestionsClearRequested,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionSelected:this.onSuggestionSelected,renderInputComponent:a.renderInputComponent,renderSuggestion:this.renderSuggestion,renderSuggestionsContainer:this.renderSuggestionsContainer,shouldRenderSuggestions:this.shouldRenderSuggestions,suggestQuery:s,suggestions:i}),n.a.createElement("button",{type:"submit",className:"fs-search-form__submit",onClick:this.handleSubmit},n.a.createElement("span",{className:"fs-element-invisible"},"Perform Search"),n.a.createElement(b,null))))}}],[{key:"renderInputComponent",value:function(e){return n.a.createElement("div",{className:"fs-search-form__input-wrapper"},n.a.createElement("input",e))}}]),a}(n.a.Component);x.defaultProps={label:"Enter a search term",value:"",suggestQuery:{value:""}};var P=x,D=function(e){var t=e.autocomplete?P:E;return n.a.createElement(t,e)},I=a(2),L=a.n(I),T=a(76),R=a.n(T),H=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).state={filter:"",truncateFacetListsAt:e.truncateFacetListsAt},s}return Object(u.a)(a,[{key:"handleClick",value:function(e){var t=F.qs.getFieldQsInfo({field:this.props.field,values:this.props.value,value:e}),a=t.foundIdx,s=t.parsed,n=t.isQsParamField,r=t.param,i=s;n&&(a<0?(i=r?F.qs.addValueToQsParam({field:this.props.field,value:e,param:r,parsed:s}):F.qs.addQsParam({field:this.props.field,value:e,parsed:s}),this.props.onChange(this.props.field,this.props.value.concat(e))):(r&&(i=F.qs.removeValueFromQsParam({field:this.props.field,value:e,param:r,parsed:s})),this.props.onChange(this.props.field,this.props.value.filter((function(e,t){return t!==a})))),F.qs.addNewUrlToBrowserHistory(i))}},{key:"toggleExpand",value:function(e){if(this.props.onSetCollapse(this.props.field,!this.props.collapse),e){var t=this.props.expandedHierarchies.indexOf(e);t>-1?this.props.expandedHierarchies.splice(t,1):this.props.expandedHierarchies.push(e)}}},{key:"render",value:function(){var e=this,t=this.props,a=t.label,s=t.facets,r=t.field,i=t.value,l=t.collapse,c=t.hierarchy,o=t.options,u=this.state.truncateFacetListsAt,d=o.siteList,m=s.filter((function(e,t){return t%2===1})),h=s.filter((function(e,t){return t%2===0})),p={};if("sm_site_name"===r&&d.length>0){if(h.forEach((function(e,t){var a=h[t];d.indexOf(e)>-1&&(p[a]=m[t])})),i.length<1&&Object.keys(p).length<2)return null}else h.forEach((function(e,t){var a=h[t];p[a]=m[t]}));var f=!l,g=f?"auto":0;if(c){var _=[],v={};h.forEach((function(t,a){var s=t.split(">");_.push(s[0]),Object.hasOwnProperty.call(v,s[0])||(v[s[0]]={},v[s[0]].items=[],v[s[0]].expanded=e.props.expandedHierarchies.indexOf(s[0])>-1,v[s[0]].height=v[s[0]].expanded?"auto":0),v[s[0]].items.push({term:s[1],facetValue:t,facetCount:m[a]})}));var b=_.filter((function(e,t,a){return a.indexOf(e)===t})).filter(String),y=[],E=[];return b.forEach((function(t,s){E[t]=[],v[t].items.forEach((function(a,s){return a.facetCount&&E[t].push(n.a.createElement("li",{className:"fs-search-accordion__content-item",key:"".concat(a.term,"_").concat(a.facetValue,"_").concat(s)},n.a.createElement("label",{className:"fs-search-accordion__checkbox-label"},n.a.createElement("input",{type:"checkbox",name:t,className:"fs-search-accordion__checkbox-input",value:a.facetValue,checked:i.indexOf(a.facetValue)>-1,onChange:function(){return e.handleClick(a.facetValue)}})," ",a.term,n.a.createElement("span",{className:"facet-item-amount"}," (",a.facetCount,n.a.createElement("span",{className:"fs-element-invisible"},"results"),")"))))})),E[t].length&&y.push(n.a.createElement("li",{className:"fs-search-accordion__content-item",id:"solr-list-facet-".concat(t),key:"solr-list-facet-".concat(t,"-").concat(s)},n.a.createElement("div",{tabIndex:"0",className:L()("fs-search-accordion__title",{"js-fs-search-accordion-open":v[t].expanded}),id:a.replace(/\s+/g,"-").toLowerCase(),onClick:e.toggleExpand.bind(e,t),onKeyDown:function(a){13===a.keyCode&&e.toggleExpand(t)}},n.a.createElement("span",{className:"fs-element-invisible"},"Toggle filter group for")," ",t),n.a.createElement(R.a,{duration:600,height:v[t].height},n.a.createElement("ul",{className:"fs-search-accordion__content",key:"solr-list-facet-".concat(t,"-ul")},E[t]))))})),y}return n.a.createElement("li",{className:"fs-search-accordion__group-item",id:"solr-list-facet-".concat(r)},n.a.createElement("div",{tabIndex:"0",className:L()("fs-search-accordion__title",{"js-fs-search-accordion-open":f}),id:a.replace(/\s+/g,"-").toLowerCase(),onClick:this.toggleExpand.bind(this),onKeyDown:function(t){13===t.keyCode&&e.toggleExpand()}},n.a.createElement("span",{className:"fs-element-invisible"},"Toggle filter group for")," ",a),n.a.createElement(R.a,{duration:600,height:g},n.a.createElement("ul",{className:"fs-search-accordion__content",key:"solr-list-facet-".concat(r,"-ul")},h.filter((function(e,t){return p[e]>0&&(u<0||t<u)})).map((function(t,a){return 0===e.state.filter.length||t.toLowerCase().indexOf(e.state.filter.toLowerCase())>-1?n.a.createElement("li",{className:"fs-search-accordion__content-item",key:"".concat(t,"_").concat(p[t])},n.a.createElement("label",{className:"fs-search-accordion__checkbox-label"},n.a.createElement("input",{type:"checkbox",name:r,value:t,checked:i.indexOf(t)>-1,onChange:function(){return e.handleClick(t)}})," ",t,n.a.createElement("span",{className:"facet-item-amount"}," (",p[t],n.a.createElement("span",{className:"fs-element-invisible"},"results"),")"))):null})))))}}]),a}(n.a.Component);H.defaultProps={hierarchy:!1,expandedHierarchies:[],value:[]};var M=H,q=a(11),Q=a.n(q),A=(a(511),a(277)),K=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).state={filter:"",truncateFacetListsAt:e.truncateFacetListsAt,startDate:null,endDate:null,focusedInput:null},s}return Object(u.a)(a,[{key:"toggleExpand",value:function(){this.props.onSetCollapse(this.props.field,!this.props.collapse)}},{key:"handleCalendarClose",value:function(e){if(null!==e.startDate&&null!==e.endDate){var t=Q()(e.startDate).subtract({hours:12}).format("YYYY-MM-DDTHH:mm:ss")+"Z",a=Q()(e.endDate).add({hours:11,minutes:59,seconds:59}).format("YYYY-MM-DDTHH:mm:ss")+"Z";this.props.onChange(this.props.field,[t,a])}}},{key:"handleDatesChange",value:function(e,t){this.setState({startDate:e,endDate:t}),null===e&&null===t&&this.props.onChange(this.props.field,[])}},{key:"componentDidUpdate",value:function(e){this.props.value.length&&!e.value.length&&this.setState({startDate:null,endDate:null})}},{key:"render",value:function(){var e=this,t=this.props,a=t.label,s=t.facets,r=t.field,i=!t.collapse,l=i?"auto":0,c=void 0,o=void 0,u=2,d=function(){return Q()().subtract(1,"months")};return window.matchMedia("(max-width: 600px)").matches&&(u=1,c="vertical",o=!0,d=void 0),n.a.createElement("li",{className:"fs-search-accordion__group-item",id:"solr-list-facet-".concat(r)},n.a.createElement("div",{tabIndex:"0",className:L()("fs-search-accordion__title",{"js-fs-search-accordion-open":i}),id:a.replace(/\s+/g,"-").toLowerCase(),onClick:this.toggleExpand.bind(this),onKeyDown:function(t){13===t.keyCode&&e.toggleExpand()}},a),n.a.createElement(R.a,{duration:600,height:l},n.a.createElement("ul",{className:"fs-search-accordion__content"},n.a.createElement("li",{className:"fs-search-accordion__content-item"},n.a.createElement(A.DateRangePicker,{startDate:this.state.startDate,startDateId:"solr-start-date",endDate:this.state.endDate,endDateId:"solr-end-date",onDatesChange:function(t){var a=t.startDate,s=t.endDate;return e.handleDatesChange(a,s)},focusedInput:this.state.focusedInput,onFocusChange:function(t){return e.setState({focusedInput:t})},isOutsideRange:function(e){var t=Q()().format("YYYY-MM-DD");return e.diff(t,"days")>0||Q()(e).isBefore(s[0])},minimumNights:0,small:!0,showClearDates:!0,onClose:function(t){return e.handleCalendarClose(t)},phrases:{calendarLabel:"Calendar",chooseAvailableStartDate:function(e){var t=e.date;return"Choose ".concat(t," as your search filter start date.")},chooseAvailableEndDate:function(e){var t=e.date;return"Choose ".concat(t," as your search filter end date.")},clearDates:"Clear Dates",closeDatePicker:"Close",dateIsSelected:function(e){var t=e.date;return"You have selected ".concat(t,".")},dateIsUnavailable:function(e){var t=e.date;return"Sorry, ".concat(t," is unavailable.")},enterKey:"Enter key",escape:"Escape key",focusStartDate:"Interact with the calendar and add the check-in date for your trip.",hideKeyboardShortcutsPanel:"Close the shortcuts panel.",homeEnd:"Home and end keys",jumpToNextMonth:"Move forward to switch to the next month.",jumpToPrevMonth:"Move backward to switch to the previous month.",keyboardNavigationInstructions:"Press the down arrow key to interact with the calendar and\n  select a date. Press the question mark key to get the keyboard shortcuts for changing dates.",keyboardShortcuts:"Keyboard Shortcuts",leftArrowRightArrow:"Right and left arrow keys",moveFocusByOneDay:"Move backward (left) and forward (right) by one day.",moveFocusByOneMonth:"Switch months.",moveFocusByOneWeek:"Move backward (up) and forward (down) by one week.",moveFocustoStartAndEndOfWeek:"Go to the first or last day of a week.",openThisPanel:"Open this panel.",pageUpPageDown:"page up and page down keys",questionMark:"Question mark",returnFocusToInput:"Return to the date input field.",selectFocusedDate:"Select the date in focus.",showKeyboardShortcutsPanel:"Open the keyboard shortcuts panel.",upArrowDownArrow:"up and down arrow keys"},initialVisibleMonth:d,numberOfMonths:u,orientation:c,withFullScreenPortal:o})))))}}]),a}(n.a.Component);K.defaultProps={value:[]};var B=K,V=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var s;Object(o.a)(this,a),s=t.call(this,e);var n=window.innerWidth;return s.state={expanded:n>900},s.handleClick=s.handleClick.bind(Object(g.a)(s)),window.addEventListener("resize",(function(){var e="auto";window.innerWidth<900&&(e=0),s.setState({expanded:e})})),s}return Object(u.a)(a,[{key:"handleClick",value:function(){this.setState({expanded:!this.state.expanded})}},{key:"render",value:function(){var e=this.props.onNewSearch,t=this.state.expanded?"auto":0;return n.a.createElement("div",{className:"fs-search-filters"},n.a.createElement("button",{className:L()("fs-search-filters__trigger",{"js-fs-search-filters-open":this.state.expanded}),onClick:this.handleClick},this.props.title?this.props.title:"Filter Results"),n.a.createElement(R.a,{duration:450,height:t},n.a.createElement("form",{className:"fs-search-filters__form"},n.a.createElement("section",{className:"fs-search-accordion","aria-labelledby":"fs-section-title"},n.a.createElement("div",{className:"fs-search-filters__row"},n.a.createElement("h2",{className:"fs-search-filters__title",id:"fs-section-title"},this.props.title?this.props.title:"Filter Results")),this.props.resultsCount>0?n.a.createElement("ul",{className:"fs-search-accordion__group"},this.props.children):n.a.createElement("div",{className:"fs-search-filters__no-results"},"There are no results to filter.")),this.props.resultsCount>0?n.a.createElement("div",{className:"fs-search-filters__row"},n.a.createElement("button",{className:"fs-search-filters__reset",type:"button",onClick:e},"Clear All")):null)))}}]),a}(n.a.Component),Y=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("h2",{className:"fs-element-invisible"},"Search results"),n.a.createElement("ul",{className:"fs-search-results"},this.props.children))}}]),a}(n.a.Component),U=function(){return n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},n.a.createElement("path",{d:"M16.1 4.5c.4.4.5 1 0 1.6L12.3 10l3.7 3.9c.5.5.4 1.1 0 1.6-.4.4-1.2.4-1.6 0-.4-.4-4.5-4.7-4.5-4.7-.2-.2-.3-.5-.3-.8s.1-.6.3-.8c0 0 4.1-4.3 4.5-4.7.5-.4 1.2-.4 1.7 0z"}),n.a.createElement("path",{d:"M10.1 4.5c.4.4.5 1 0 1.6L6.3 10l3.7 3.9c.5.5.4 1.1 0 1.6-.4.4-1.2.4-1.6 0-.4-.4-4.5-4.7-4.5-4.7-.2-.2-.3-.5-.3-.8s.1-.6.3-.8c0 0 4.1-4.3 4.5-4.7.5-.4 1.2-.4 1.7 0z"}))},W=function(){return n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},n.a.createElement("path",{d:"M12.452 4.516c.446.436.481 1.043 0 1.576L8.705 10l3.747 3.908c.481.533.446 1.141 0 1.574-.445.436-1.197.408-1.615 0-.418-.406-4.502-4.695-4.502-4.695a1.095 1.095 0 0 1 0-1.576s4.084-4.287 4.502-4.695c.418-.409 1.17-.436 1.615 0z"}))},z=function(){return n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},n.a.createElement("path",{d:"M9.163 4.516c.418.408 4.502 4.695 4.502 4.695a1.095 1.095 0 0 1 0 1.576s-4.084 4.289-4.502 4.695c-.418.408-1.17.436-1.615 0-.446-.434-.481-1.041 0-1.574L11.295 10 7.548 6.092c-.481-.533-.446-1.141 0-1.576.445-.436 1.197-.409 1.615 0z"}))},G=function(){return n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},n.a.createElement("path",{d:"M5.6 4.5c.4.4 4.5 4.7 4.5 4.7.2.2.3.5.3.8s-.1.6-.3.8c0 0-4.1 4.3-4.5 4.7-.4.4-1.2.4-1.6 0-.4-.4-.5-1 0-1.6L7.7 10 3.9 6.1c-.4-.5-.4-1.1 0-1.6.5-.4 1.2-.4 1.7 0z"}),n.a.createElement("path",{d:"M11.6 4.5c.4.4 4.5 4.7 4.5 4.7.2.2.3.5.3.8s-.1.6-.3.8c0 0-4.1 4.3-4.5 4.7-.4.4-1.2.4-1.6 0-.4-.4-.5-1 0-1.6l3.7-3.9-3.8-3.9c-.4-.5-.4-1.1 0-1.6.5-.4 1.2-.4 1.7 0z"}))},J=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).buildHandleEnterKeyPress=function(e){return function(t){"Enter"===t.key&&e()}},e}return Object(u.a)(a,[{key:"onPageChange",value:function(e,t){e>=t||e<0||(this.props.onChange(e),null!=document.getElementById("stat")&&document.getElementById("stat").focus({preventScroll:!1}))}},{key:"renderPage",value:function(e,t,a){var s=e===t;return n.a.createElement("li",{className:L()("fs-search-pager__item",s?"is-active":"not-active"),key:a},n.a.createElement("button",{className:L()("fs-search-pager__item-button fs-search-pager__item-button--number"),tabIndex:"0",onClick:this.onPageChange.bind(this,e),onKeyPress:this.buildHandleEnterKeyPress(this.onPageChange.bind(this,e)),title:s?"Current page":"Go to page ".concat(e+1),"aria-current":s?e+1:void 0},n.a.createElement("span",{className:"fs-element-invisible"},"Page"),e+1))}},{key:"render",value:function(){var e=this,t=this.props,a=t.query,s=t.results,r=a.start,i=a.rows,l=s.numFound,c=Math.ceil(l/i),o=r/i,u=this.props.options.paginationButtons||5,d=o-2<0?0:o-2,m=d+u>c?c:d+u;m-d<u&&d>0&&(d=m-u)<0&&(d=0);for(var h=[],p=d;p<m;p++)h.indexOf(p)<0&&h.push(p);var f=0===o,g=o-1<0,_=o+1>=c,v=0===c||o===c-1;return n.a.createElement("nav",{className:"fs-search-pager",role:"navigation","aria-labelledby":"fs-pagination-heading"},n.a.createElement("h4",{id:"fs-pagination-heading",className:"fs-element-invisible"},"Pagination"),n.a.createElement("ul",{className:"fs-search-pager__items js-fs-search-pager__items"},n.a.createElement("li",{className:L()("fs-search-pager__item fs-search-pager__item--first",{"fs-element-invisible":f}),key:"start"},n.a.createElement("button",{className:L()("fs-search-pager__item-button fs-search-pager__item-button--first"),tabIndex:f?"-1":"0",onClick:this.onPageChange.bind(this,0),onKeyPress:this.buildHandleEnterKeyPress(this.onPageChange.bind(this,0)),title:"Go to first page"},n.a.createElement("span",{className:"fs-element-invisible"},"First page"),n.a.createElement("span",{"aria-hidden":f?"true":"false"},n.a.createElement(U,null)))),n.a.createElement("li",{className:L()("fs-search-pager__item search-pager__item--previous",{"fs-element-invisible":g}),key:"prev"},n.a.createElement("button",{className:L()("fs-search-pager__item-button fs-search-pager__item-button--prev"),tabIndex:g?"-1":"0",onClick:this.onPageChange.bind(this,o-1),onKeyPress:this.buildHandleEnterKeyPress(this.onPageChange.bind(this,o-1)),title:"Go to previous page",rel:"previous"},n.a.createElement("span",{className:"fs-element-invisible"},"Previous page"),n.a.createElement("span",{"aria-hidden":g?"true":"false"},n.a.createElement(W,null)))),h.map((function(t,a){return e.renderPage(t,o,a)})),n.a.createElement("li",{className:L()("fs-search-pager__item fs-search-pager__item--next",{"fs-element-invisible":_}),key:"next"},n.a.createElement("button",{className:L()("fs-search-pager__item-button fs-search-pager__item-button--next"),tabIndex:_?"-1":"0",onClick:this.onPageChange.bind(this,o+1,c),onKeyPress:this.buildHandleEnterKeyPress(this.onPageChange.bind(this,o+1,c)),title:"Go to next page",rel:"next"},n.a.createElement("span",{className:"fs-element-invisible"},"Next page"),n.a.createElement("span",{"aria-hidden":_?"true":"false"},n.a.createElement(z,null)))),n.a.createElement("li",{className:L()("fs-search-pager__item search-pager__item--last",{"fs-element-invisible":v}),key:"end"},n.a.createElement("button",{className:L()("fs-search-pager__item-button fs-search-pager__item-button--last"),tabIndex:v?"-1":"0",onClick:this.onPageChange.bind(this,c-1),onKeyPress:this.buildHandleEnterKeyPress(this.onPageChange.bind(this,c-1)),title:"Go to last page"},n.a.createElement("span",{className:"fs-element-invisible"},"Last page"),n.a.createElement("span",{"aria-hidden":v?"true":"false"},n.a.createElement(G,null))))))}}]),a}(n.a.Component),Z=a(89);var X=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.numFound,a=e.start,s=e.rows,r=e.noResultsText,i=e.termValue,l=a/s,c=Math.ceil(t/s);return n.a.createElement(n.a.Fragment,null,function(e,t,a,s,r,i){var l="",c="";return t>a?(c="Showing page ".concat(e+1," of ").concat(s," (").concat(t," results)."),l=n.a.createElement("span",null,"Showing page",n.a.createElement("b",null," ",e+1)," of",n.a.createElement("b",null," ",s)," (",n.a.createElement("b",null,t)," results).")):t<=a&&t>1?(c="Showing ".concat(t," results."),l=n.a.createElement("span",null,"Showing ",n.a.createElement("b",null,t)," results.")):1===t?(c="Showing ".concat(t," result."),l=n.a.createElement("span",null,"Showing ",n.a.createElement("b",null,t)," result.")):0===t&&(c=l=r||"Sorry, your search yielded no results."),c=i?c:"",n.a.createElement(n.a.Fragment,null,n.a.createElement(Z.b,{message:c,"aria-live":"polite"}),n.a.createElement("p",{id:"stat",tabIndex:"-1",className:"fs-search-results-stat"},l))}(l,t,s,c,r,i))}}]),a}(n.a.Component);X.defaultProps={start:0};var $=X,ee=function(e){return n.a.createElement("button",{className:"fs-applied-filters__filter",key:e.id,onClick:e.onClick},n.a.createElement("span",{className:"fs-element-invisible"},"Remove filter"),e.children)},te=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"removeListFacetValue",value:function(e,t,a){this.props.announcePolite("Removed ".concat(e.value," filter."));var s=F.qs.getFieldQsInfo({field:e,values:t,value:a}),n=s.foundIdx,r=s.parsed,i=s.isQsParamField,l=s.param;if(n>-1){if(i&&l){var c=F.qs.removeValueFromQsParam({field:e,value:a,param:l,parsed:r});F.qs.addNewUrlToBrowserHistory(c)}this.props.onChange(e,t.filter((function(e,t){return t!==n})))}}},{key:"render",value:function(){var e=this,t=this.props.searchField;return t.value.map((function(a,s){return n.a.createElement(ee,{key:s,id:s,onClick:function(){return e.removeListFacetValue(t.field,t.value,a)}},a.replace(">"," > "))}))}}]),a}(n.a.Component),ae=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"removeRangeFacetValue",value:function(e){this.props.announcePolite("Removed ".concat(e.value," filter.")),this.props.onChange(e,[])}},{key:"render",value:function(){var e=this,t=this.props.searchField,a=Q()(t.value[0]);a.utc();var s=a.format("MM/DD/YYYY"),r=Q()(t.value[1]);r.utc();var i=r.format("MM/DD/YYYY"),l=a.diff(r,"days")?"".concat(s," - ").concat(i):s;return n.a.createElement(ee,{onClick:function(){return e.removeRangeFacetValue(t.field)}},l)}}]),a}(n.a.Component),se=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"removeTextValue",value:function(e){this.props.announcePolite("Removed search term ".concat(e.value,".")),this.props.onChange(e,null);var t=v.a.parse(window.location.search);t.search&&delete t.search;var a=v.a.stringify(t);if(window.history.pushState)if(a){var s="".concat(window.location.protocol,"//").concat(window.location.host).concat(window.location.pathname,"?").concat(a);window.history.pushState({path:s},"",s)}else{var n="".concat(window.location.protocol,"//").concat(window.location.host).concat(window.location.pathname);window.history.pushState({path:n},"",n)}else window.location.search=a}},{key:"render",value:function(){var e=this,t=this.props.searchField;return n.a.createElement(ee,{onClick:function(){return e.removeTextValue(t.field)}},t.value)}}]),a}(n.a.Component),ne=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.props.query.searchFields.filter((function(e){return e.value&&e.value.length>0})),a={"list-facet":te,"range-facet":ae,text:se};return n.a.createElement(Z.c,null,(function(s){var r=s.announcePolite;return n.a.createElement(n.a.Fragment,null,t.length>0&&n.a.createElement("div",{className:"fs-applied-filters"},n.a.createElement("h2",{className:"fs-element-invisible"},"Currently Applied Search Filters."),n.a.createElement("p",{className:"fs-element-invisible"},"Click a filter to remove it from your search query."),t.filter((function(e){return!e.isHidden})).map((function(t,s){var i=a[t.type];return n.a.createElement(i,Object.assign({},e.props,{key:s,searchField:t,announcePolite:r}))}))))}))}}]),a}(n.a.Component),re=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).state={sort:"score"},s.onSelect=s.onSelect.bind(Object(g.a)(s)),s}return Object(u.a)(a,[{key:"onSelect",value:function(e){this.setState({sort:e.target.value});var t=e.target.value;this.props.sortFields.indexOf(t)<0?this.props.onChange(t,"desc"):this.props.onChange(t,null)}},{key:"render",value:function(){var e=this.props.sortFields;return 0===e.length?null:n.a.createElement("div",{className:"fs-search-scope"},n.a.createElement("div",{className:"fs-search-scope__filter"},n.a.createElement("label",{className:"fs-search-scope__label",htmlFor:"sort-by"},"Sort By"),n.a.createElement("select",{className:"fs-search-scope__select",id:"sort-by",name:"sort-by",onChange:this.onSelect,value:this.state.sort},e.map((function(e,t){return n.a.createElement("option",{value:e.field,key:t},e.label)})))))}}]),a}(n.a.Component),ie=Object(c.a)(Object(c.a)({},l.b),{},{searchFields:Object(c.a)(Object(c.a)({},l.b.searchFields),{},{text:D,"list-facet":M,"range-facet":B,container:V,currentQuery:ne}),results:Object(c.a)(Object(c.a)({},l.b.results),{},{result:f,list:Y,paginate:J,resultCount:$}),sortFields:{menu:re}}),le=a(278),ce={Directory:function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.doc;t.highlight;return n.a.createElement("li",{className:"fs-search-results__item fs-search-results__item--directory",onClick:function(){return e.props.onSelect(a)}},a.sm_department&&a.sm_department.map((function(e){return n.a.createElement("span",{className:"fs-search-results__department"},e)})),!a.sm_department&&n.a.createElement("span",{className:"fs-search-results__department"},"BMC"),a.ss_federated_image&&n.a.createElement("div",{className:"fs-search-results__container--left"},n.a.createElement("img",{className:"fs-search-results__image",src:a.ss_federated_image,alt:""})),n.a.createElement("div",{className:"fs-search-results__container--right"},n.a.createElement("h3",null,"NAME"),n.a.createElement("h3",{className:"fs-search-results__title"},n.a.createElement("a",{href:this.getCanonicalLink(a),dangerouslySetInnerHTML:{__html:a.ss_federated_title}})),n.a.createElement("blockquote",{cite:this.getCanonicalLink(a),className:"fs-search-results__summary",dangerouslySetInnerHTML:{__html:a.ss_summary}}),n.a.createElement("div",{className:"fs-search-results__meta"},n.a.createElement("cite",{className:"fs-search-results__citation"},this.renderSitenameLinks(a.sm_site_name,a.sm_urls,a.ss_site_name)),n.a.createElement("span",{className:"fs-search-results__type"},a.sm_federated_type))))}}]),a}(f),Conditions:function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.doc;t.highlight;return n.a.createElement("li",{className:"fs-search-results__item fs-search-results__item--condition",onClick:function(){return e.props.onSelect(a)}},a.sm_department&&a.sm_department.map((function(e){return n.a.createElement("span",{className:"fs-search-results__department"},e)})),!a.sm_department&&n.a.createElement("span",{className:"fs-search-results__department"},"BMC"),a.ss_federated_image&&n.a.createElement("div",{className:"fs-search-results__container--left"},n.a.createElement("img",{className:"fs-search-results__image",src:a.ss_federated_image,alt:""})),n.a.createElement("div",{className:"fs-search-results__container--right"},n.a.createElement("h3",{className:"fs-search-results__title"},n.a.createElement("a",{href:this.getCanonicalLink(a),dangerouslySetInnerHTML:{__html:a.ss_federated_title}})),n.a.createElement("blockquote",{cite:this.getCanonicalLink(a),className:"fs-search-results__summary",dangerouslySetInnerHTML:{__html:a.ss_summary}}),n.a.createElement("div",{className:"fs-search-results__meta"},n.a.createElement("cite",{className:"fs-search-results__citation"},this.renderSitenameLinks(a.sm_site_name,a.sm_urls,a.ss_site_name)),n.a.createElement("span",{className:"fs-search-results__date"},this.dateFormat(a.ds_federated_date)),n.a.createElement("span",{className:"fs-search-results__type"},a.sm_federated_type))))}}]),a}(f),Treatment:function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.doc;t.highlight;return n.a.createElement("li",{className:"fs-search-results__item fs-search-results__item--treatment",onClick:function(){return e.props.onSelect(a)}},a.sm_department&&a.sm_department.map((function(e){return n.a.createElement("span",{className:"fs-search-results__department"},e)})),!a.sm_department&&n.a.createElement("span",{className:"fs-search-results__department"},"BMC"),a.ss_federated_image&&n.a.createElement("div",{className:"fs-search-results__container--left"},n.a.createElement("img",{className:"fs-search-results__image",src:a.ss_federated_image,alt:""})),n.a.createElement("div",{className:"fs-search-results__container--right"},n.a.createElement("h3",{className:"fs-search-results__title"},n.a.createElement("a",{href:this.getCanonicalLink(a),dangerouslySetInnerHTML:{__html:a.ss_federated_title}})),n.a.createElement("blockquote",{cite:this.getCanonicalLink(a),className:"fs-search-results__summary",dangerouslySetInnerHTML:{__html:a.ss_summary}}),n.a.createElement("div",{className:"fs-search-results__meta"},n.a.createElement("cite",{className:"fs-search-results__citation"},this.renderSitenameLinks(a.sm_site_name,a.sm_urls,a.ss_site_name)),n.a.createElement("span",{className:"fs-search-results__type"},a.sm_federated_type))))}}]),a}(f),Recipe:function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.doc;t.highlight;return n.a.createElement("li",{className:"fs-search-results__item fs-search-results__item--recipe",onClick:function(){return e.props.onSelect(a)}},a.sm_department&&a.sm_department.map((function(e){return n.a.createElement("span",{className:"fs-search-results__department"},e)})),!a.sm_department&&n.a.createElement("span",{className:"fs-search-results__department"},"BMC"),a.ss_federated_image&&n.a.createElement("div",{className:"fs-search-results__container--left"},n.a.createElement("img",{className:"fs-search-results__image",src:a.ss_federated_image,alt:""})),n.a.createElement("div",{className:"fs-search-results__container--right"},n.a.createElement("h3",{className:"fs-search-results__title"},n.a.createElement("a",{href:this.getCanonicalLink(a),dangerouslySetInnerHTML:{__html:a.ss_federated_title}})),n.a.createElement("blockquote",{cite:this.getCanonicalLink(a),className:"fs-search-results__summary",dangerouslySetInnerHTML:{__html:a.ss_summary}}),n.a.createElement("div",{className:"fs-search-results__meta"},n.a.createElement("cite",{className:"fs-search-results__citation"},this.renderSitenameLinks(a.sm_site_name,a.sm_urls,a.ss_site_name)),n.a.createElement("span",{className:"fs-search-results__date"},this.dateFormat(a.ds_federated_date)),n.a.createElement("span",{className:"fs-search-results__type"},a.sm_federated_type))))}}]),a}(f)},oe=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).resetFilters=s.resetFilters.bind(Object(g.a)(s)),s}return Object(u.a)(a,[{key:"resetFilters",value:function(){var e,t=this.props.query,a="",s=Object(le.a)(t.searchFields);try{for(s.s();!(e=s.n()).done;){var n=e.value;n.field!==t.mainQueryField?(delete n.value,n.collapse=!0,Object.hasOwnProperty.call(n,"expandedHierarchies")&&(n.expandedHierarchies=[])):a=n.value}}catch(i){s.e(i)}finally{s.f()}var r={search:a};F.qs.addNewUrlToBrowserHistory(r),this.setState({query:t}),this.props.onSearchFieldChange()}},{key:"getResultByType",value:function(e){switch(e){case"directory":return ce.Directory;case"conditions_treated":return ce.Conditions;case"treatments":return ce.Treatment;case"recipes":return ce.Recipe}}},{key:"render",value:function(){var e,t=this,a=this.props,s=a.customComponents,r=a.bootstrapCss,i=a.query,l=a.results,c=a.truncateFacetListsAt,o=a.options,u=a.onSearchFieldChange,d=a.onTextInputChange,m=a.onSortFieldChange,h=a.onPageChange,p=i.searchFields,f=i.sortFields,g=i.rows,_=i.start?i.start:0,v=s.searchFields.container,b=s.results.container,y=s.results.result,E=s.results.resultCount,w=s.results.header,C=s.results.list,k=s.results.pending,S=s.results.paginate,N=s.results.preloadIndicator,O=s.searchFields.currentQuery,j=s.sortFields.menu,F=ie.searchFields.text,x=l.pending?n.a.createElement(k,{bootstrapCss:r}):null,P="paginate"===i.pageStrategy?n.a.createElement(S,Object.assign({},this.props,{bootstrapCss:r,onChange:h})):null,D="cursor"===i.pageStrategy&&l.docs.length<l.numFound?n.a.createElement(N,this.props):null;return null!=this.props.options.pageTitle&&(e=n.a.createElement("h1",null,this.props.options.pageTitle)),n.a.createElement(Z.a,null,n.a.createElement("div",{className:"fs-container"},n.a.createElement("aside",{className:"fs-aside"},n.a.createElement(v,{bootstrapCss:r,onNewSearch:this.resetFilters,resultsCount:this.props.results.numFound,title:this.props.options.menuTitle},p.filter((function(e){return t.props.sidebarFilters.indexOf(e.field)>-1&&!e.isHidden})).map((function(e,a){var i=e.type,o=e.field,d=e.lowerBound,m=e.upperBound,h=s.searchFields[i],p=function(e,t,a,s,n){return"period-range-facet"===e?(t.facets[s]||[]).concat(t.facets[n]||[]):"list-facet"===e||"range-facet"===e?t.facets[a]||[]:null}(i,l,o,d,m);return n.a.createElement(h,Object.assign({key:a},t.props,e,{bootstrapCss:r,facets:p,truncateFacetListsAt:c,onChange:u}))})))),n.a.createElement("div",{className:"fs-main"},e,n.a.createElement("div",{className:"fs-search-form",autoComplete:"on"},n.a.createElement(F,Object.assign({},this.props,{autocomplete:o.autocomplete,field:"tm_rendered_item",label:"Enter search term:",onSuggest:d,onChange:u,value:p.find((function(e){return"tm_rendered_item"===e.field})).value})),n.a.createElement(O,Object.assign({},this.props,{onChange:u})),n.a.createElement(j,{bootstrapCss:r,onChange:m,sortFields:f})),n.a.createElement("p",{className:p.find((function(e){return"tm_rendered_item"===e.field})).value||this.props.options.showEmptySearchResults?"solr-search-results-container__prompt fs-element-invisible":"solr-search-results-container__prompt"},this.props.options.searchPrompt||"Please enter a search term."),n.a.createElement("div",{className:p.find((function(e){return"tm_rendered_item"===e.field})).value||this.props.options.showEmptySearchResults?"solr-search-results-container__wrapper":"solr-search-results-container__wrapper fs-element-invisible"},n.a.createElement(b,{bootstrapCss:r},n.a.createElement(w,{bootstrapCss:r},n.a.createElement(E,{bootstrapCss:r,numFound:l.numFound,start:_,rows:g,onChange:h,noResultsText:this.props.options.noResults||null,termValue:p.find((function(e){return"tm_rendered_item"===e.field})).value}),x),n.a.createElement(C,{bootstrapCss:r},l.docs.map((function(e,a){var s=t.getResultByType(e.sm_federated_type)||y;return n.a.createElement(s,{bootstrapCss:r,doc:e,fields:p,key:e.id||a,onSelect:t.props.onSelectDoc,resultIndex:a,rows:g,start:_,highlight:l.highlighting[e.id],hostname:t.props.options.hostname})})),D),P)))))}}]),a}(n.a.Component);oe.defaultProps={bootstrapCss:!0,customComponents:ie,pageStrategy:"paginate",rows:20,searchFields:[{type:"text",field:"*"}],sortFields:[],truncateFacetListsAt:-1,showCsvExport:!1,sidebarFilters:["sm_site_name","sm_federated_type","sm_department","ds_federated_date","sm_federated_terms"],options:{}};var ue=oe,de=(a(634),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=F.qs.getParsedQsAndParams(),s=a.parsed,n=a.params,r=e.state.query.searchFields;r.forEach((function(e){Object.prototype.hasOwnProperty.call(t,"mainQueryField")&&e.field===t.mainQueryField&&(e.value=s.search),F.filterFieldsWithQsState.find((function(t){return t===e.field}))&&(e=F.qs.setFieldStateFromQs({params:n,searchField:e})),void 0!==t.siteSearch&&"sm_site_name"===e.field&&void 0===e.value&&!1===e.isHidden&&(e.value=[t.siteSearch])})),e.state.query.start=e.state.query.start||0,e.sendQuery(e.state.query)}),me=document.getElementById("fs-root");me?Object.hasOwnProperty.call(me.dataset,"federatedSearchAppConfig")?function(e){var t={isD7:!1,proxyIsDisabled:!1,url:"",searchFields:[{label:"Enter Search Term:",field:"tm_rendered_item",type:"text",isHidden:!1},{label:"Site Name",field:"sm_site_name",type:"list-facet",collapse:!0,isHidden:!1},{label:"Type",field:"sm_federated_type",type:"list-facet",collapse:!0,isHidden:!1},{label:"Department",field:"sm_department",type:"list-facet",collapse:!0,isHidden:!1},{label:"Date",field:"ds_federated_date",type:"range-facet",collapse:!0,isHidden:!1},{label:"Federated Terms",field:"sm_federated_terms",type:"list-facet",hierarchy:!0,expandedHierarchies:[],isHidden:!1}],mainQueryField:"tm_rendered_item",sortFields:[{label:"Relevance",field:"score"},{label:"Date",field:"ds_federated_date"}],hl:{fl:"tm_rendered_item",usePhraseHighlighter:!0},pageStrategy:"paginate",rows:20,hostname:window.location.hostname,autocomplete:!1,filters:[]},a=Object.assign(t,e);e.hiddenSearchFields=e.hiddenSearchFields||[],a.searchFields=a.searchFields.map((function(t){return e.hiddenSearchFields.includes(t.field)&&(t.isHidden=!0),t}));var s=e.sm_site_name||!1;a.siteList=[],void 0!==e.siteSearch?a.searchFields.forEach((function(t){"sm_site_name"===t.field&&(t.isHidden||s.length<2)&&(a.siteList=[e.siteSearch])})):a.siteList=s,a.filters.push({field:"sm_site_name",type:"list-facet",value:a.siteList});var r=new l.a({isD7:a.isD7,proxyIsDisabled:a.proxyIsDisabled,url:a.url,userpass:a.userpass,searchFields:a.searchFields,sortFields:a.sortFields,pageStrategy:a.pageStrategy,rows:a.rows,hl:a.hl,mainQueryField:a.mainQueryField,filters:a.filters,onChange:function(e,t){return i.a.render(n.a.createElement(ue,Object.assign({},e,t,{customComponents:ie,bootstrapCss:!1,onSelectDoc:function(){},truncateFacetListsAt:-1,options:a})),document.getElementById("fs-root"))}});de(r,a),window.onpopstate=function(){de(r,a)}}(JSON.parse(me.dataset.federatedSearchAppConfig)):console.error("Federated Search React | Could not find a data-federated-search-app-config attribute on div#fs-root.  Please populate data-federated-search-app-config with search app configuration data."):console.error("Federated Search React | Could not find div#fs-root in which to load the search app.")}},[[635,1,2]]]);
//# sourceMappingURL=main.54b81679.chunk.js.map